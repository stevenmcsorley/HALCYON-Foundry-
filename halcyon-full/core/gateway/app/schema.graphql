type Query {
  health: String!
  entities(type: String): [Entity!]!
  entityById(id: ID!): Entity
  relationships: [Relationship!]!
  federatedEntities(source: String!, type: String, limit: Int = 200): [Entity!]!
}

type Mutation {
  upsertEntities(input: [EntityInput!]!): Boolean!
  upsertRelationships(input: [RelationshipInput!]!): Boolean!
}

type Entity {
  id: ID!
  type: String!
  attrs: JSON!
}

input EntityInput {
  id: ID!
  type: String!
  attrs: JSON!
}

type Relationship {
  type: String!
  fromId: ID!
  toId: ID!
  attrs: JSON!
}

input RelationshipInput {
  type: String!
  fromId: ID!
  toId: ID!
  attrs: JSON!
}

scalar JSON

type Query {
  health: String!
  entities(type: String): [Entity!]!
  entityById(id: ID!): Entity
  entitiesByType(type: String!): [Entity!]!
  relationships(type: String, fromId: ID, toId: ID): [Relationship!]!
}

type Entity {
  id: ID!
  type: String!
  attrs: JSON!
  neighbors: [EntityNeighbor!]
}

type EntityNeighbor {
  id: ID!
  type: String!
  relType: String!
  isOutgoing: Boolean!
}

type EntityWithNeighbors {
  id: ID!
  type: String!
  attrs: JSON!
  neighbors: [EntityNeighbor!]!
}

type Mutation {
  upsertEntities(input: [EntityInput!]!): Boolean!
  upsertRelationships(input: [RelationshipInput!]!): Boolean!
}

input EntityInput {
  id: ID!
  type: String!
  attrs: JSON!
}

type Relationship {
  type: String!
  fromId: ID!
  toId: ID!
  attrs: JSON!
}

input RelationshipInput {
  type: String!
  fromId: ID!
  toId: ID!
  attrs: JSON!
}

scalar JSON
